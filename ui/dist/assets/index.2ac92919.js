import{r as p,u as E,g as N,a as M,w as P,o as i,c as m,b as h,t as k,d as r,e as v,f as l,N as b,h as z,i as w,A as U,j as y,k as $,F as j,l as F,E as V,D as Q,m as H,n as C,p as J,q as K,I as R,s as T,v as G,x as W,y as X,z as Y}from"./vendor.60ced710.js";const Z=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))_(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&_(c)}).observe(document,{childList:!0,subtree:!0});function u(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function _(e){if(e.ep)return;e.ep=!0;const a=u(e);fetch(e.href,a)}};Z();const ee=C("\u751F\u6210\u6587\u4EF6"),te=C("\u9009\u62E9\u8DEF\u5F84"),se={class:"flex justify-between"},oe={class:"flex items-center flex-grow"},ae=["onClick"],le={class:"flex"},ne=C("\u786E\u5B9A"),re={class:"h-96 overflow-y-auto"},ie=["onClick"],ue={class:"hover:bg-green-100 rounded-md p-1 cursor-pointer flex-grow"},ce={setup(x){const n=p(!1),u=p(!1),_=JSON.stringify({breadcrumbList:["\u4E1A\u52A1\u8BA2\u5355","\u68C0\u67E5\u9884\u7EA6"],searchItem:[{type:"input",label:"\u8F93\u5165\u6846"}]}),e=p([]),a=p(""),c=p(""),L=p([]),g=p({base:""}),d=E(N`
    query fileListQuery($base: String) {
      getFileList(base: $base) {
        path
        children {
          name
          path
        }
      }
    }
  `,g),{mutate:S}=M(N`
  mutation generator($config: String!, $path: String!) {
    generator(config: $config, path: $path)
  }
`),B=()=>{let t=e.value.join("//");t=t+`//${c.value}`,S({config:_,path:t})},O=t=>{const s=[...e.value];s.push(t);const o=s.join("\\");g.value.base=o,d.refetch()},A=t=>{const s=e.value.length,o=[...e.value];o.splice(t+1,s-t);const f=o.join("\\");g.value.base=f,d.refetch()},I=()=>{const t=[...e.value];t.pop();const s=t.join("\\");g.value.base=s,d.refetch()},q=()=>{if(u.value){u.value=!1;const t=a.value.split("/");e.value=t,g.value.base=t.join("\\"),d.refetch()}else{u.value=!0;const t=[...e.value];a.value=t.join("/")}};return P(()=>{d.result.value&&(console.log(d.result.value),e.value=d.result.value.getFileList.path.split("\\"),L.value=d.result.value.getFileList.children.filter(t=>!!t))}),(t,s)=>(i(),m("div",null,[h("div",null,k(`${e.value.join("/")}/${c.value}`),1),r(l(b),{type:"info",onClick:B},{default:v(()=>[ee]),_:1}),r(l(b),{color:"#3B82F6",onClick:s[0]||(s[0]=o=>n.value=!n.value)},{default:v(()=>[te]),_:1}),r(l(z),{title:"\u6587\u4EF6\u8DEF\u5F84\u9009\u62E9",preset:"card",class:"w-8/12",show:n.value,"onUpdate:show":s[4]||(s[4]=o=>n.value=o)},{default:v(()=>[h("div",se,[h("div",oe,[r(l(w),{size:"20",class:"mr-1 text-green-300 cursor-pointer",onClick:I},{default:v(()=>[r(l(U))]),_:1}),u.value?(i(),y(l($),{key:0,value:a.value,"onUpdate:value":s[1]||(s[1]=o=>a.value=o),type:"text"},null,8,["value"])):(i(!0),m(j,{key:1},F(e.value,(o,f)=>(i(),m("div",{onClick:D=>A(f),class:"w-auto bg-green-300 hover:bg-green-500 mr-1 p-1 rounded-md cursor-pointer",key:f},k(o),9,ae))),128)),r(l(w),{size:"20",class:"mr-1 text-green-300 cursor-pointer",onClick:q},{default:v(()=>[u.value?(i(),y(l(Q),{key:1})):(i(),y(l(V),{key:0}))]),_:1})]),h("div",le,[r(l($),{style:{width:"150px"},placeholder:"\u6587\u4EF6\u540D\u79F0",class:"mr-3",value:c.value,"onUpdate:value":s[2]||(s[2]=o=>c.value=o)},null,8,["value"]),r(l(b),{onClick:s[3]||(s[3]=o=>n.value=!n.value),type:"success"},{default:v(()=>[ne]),_:1})])]),r(l(H)),h("div",re,[(i(!0),m(j,null,F(L.value,(o,f)=>(i(),m("div",{onClick:D=>O(o.name),key:f,class:"flex items-center"},[r(l(w),{class:"text-green-600",size:"20"},{default:v(()=>[r(l(J))]),_:1}),h("div",ue,k(o.name),1)],8,ie))),128))])]),_:1},8,["show"])]))}},de={setup(x){return(n,u)=>(i(),y(ce))}};const pe=K({uri:"/graphql"}),ve=new R,fe=new T({link:pe,cache:ve});G({setup(){W(Y,fe)},render(){return X(de)}}).mount("#app");
